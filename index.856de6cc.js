function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},r=t.parcelRequire7309;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){a[e]=t},t.parcelRequire7309=r),r("bUb57");var o,c=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,l=/^0o[0-7]+$/i,d=parseInt,u="object"==typeof t&&t&&t.Object===Object&&t,g="object"==typeof self&&self&&self.Object===Object&&self,p=u||g||Function("return this")(),f=Object.prototype.toString,m=Math.max,v=Math.min,y=function(){return p.Date.now()};function w(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function h(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==f.call(e)}(e))return NaN;if(w(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=w(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(c,"");var n=i.test(e);return n||l.test(e)?d(e.slice(2),n?2:8):s.test(e)?NaN:+e}o=function(e,t,n){var a,r,o,c,s,i,l=0,d=!1,u=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=a,o=r;return a=r=void 0,l=t,c=e.apply(o,n)}function f(e){return l=e,s=setTimeout(b,t),d?p(e):c}function S(e){var n=e-i;return void 0===i||n>=t||n<0||u&&e-l>=o}function b(){var e=y();if(S(e))return L(e);s=setTimeout(b,function(e){var n=t-(e-i);return u?v(n,o-(e-l)):n}(e))}function L(e){return s=void 0,g&&a?p(e):(a=r=void 0,c)}function _(){var e=y(),n=S(e);if(a=arguments,r=this,i=e,n){if(void 0===s)return f(i);if(u)return s=setTimeout(b,t),p(i)}return void 0===s&&(s=setTimeout(b,t)),c}return t=h(t)||0,w(n)&&(d=!!n.leading,o=(u="maxWait"in n)?m(h(n.maxWait)||0,t):o,g="trailing"in n?!!n.trailing:g),_.cancel=function(){void 0!==s&&clearTimeout(s),l=0,a=i=r=s=void 0},_.flush=function(){return void 0===s?c:L(y())},_};var S=r("3huUq"),b=r("b41dZ");S=r("3huUq");document.querySelector(".news-card__list").addEventListener("click",(function(e){const t=e.target.closest(".news-card__btn-favorite");if(!t)return;let n=_("favorite-news")||[];const a=t.closest(".news-card__item"),r=a.getAttribute("id"),o=a.querySelector(".news-card__img").getAttribute("src"),c=a.querySelector(".news-card__category").textContent,s=a.querySelector(".news-card__title").textContent,i=a.querySelector(".news-card__description").textContent,l=a.querySelector(".news-card__date").textContent,d=a.querySelector(".news-card__read-more").getAttribute("href"),u={id:r,urlMedia:o,section:c,title:s,abstract:i,published_date:l,url:d};n.some((e=>u.url===e.url))||(n.push(u),L("favorite-news",n));if(t.classList.contains("remove-from-fav")){t.innerHTML=`<span>Add to favorite</span>${S.heartSvg}`;const e=n.filter((e=>u.url!==e.url));L("favorite-news",e)}t.classList.contains("remove-from-fav")||(t.innerHTML=`<span>Remove from favorite</span>${S.activeHeartSvg}`);t.classList.toggle("remove-from-fav")}));const L=(e,t)=>{try{const n=JSON.stringify(t);localStorage.setItem(e,n)}catch(e){console.error("Set state error: ",e.message)}},_=e=>{try{const t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}catch(e){console.error(e.message)}};const P=document.querySelector(".pagination--container--categories"),q=document.querySelector(".pagination--container"),x=document.getElementById("pagination-categories"),E=document.querySelector("button.next-page-cat"),k=document.querySelector("button.prev-page-cat");let A={curPage:1,numLinksTwoSide:1,totalPages:4,offset:0,perPage:0,nextPage:8};const M={pagination:document.querySelector(".pagin-categories")};async function T(){const e=await fetch("https://api.nytimes.com/svc/news/v3/content/section-list.json?api-key=A3GIIfyPWHBvfJdoXANwrFAEAGEQbzXw");return(await e.json()).results}async function I(){document.getElementById("buttons-container").innerHTML="";let e=0;window.innerWidth<768&&T().then((t=>{$(t,e)})),window.innerWidth>=768&&window.innerWidth<1280&&(e=4,T().then((t=>{$(t,e)}))),window.innerWidth>=1280&&(e=6,T().then((t=>{$(t,e)})))}const $=(e,t)=>{const n=e.slice(0,t),a=e.slice(t,-1);let r=[];r=n.map((e=>`<button data-section=${e.section} class="btn">${e.display_name}</button>`));r.push(`\n    <div class="btn show-more">\n\n  <div class="text-icon_block">\n  <span class="show-more_btn">${window.innerWidth<768?"Categories":"Others"}</span>\n    <svg class = "show-more__icon" width="14" height="14">\n    <g clip-path="url(#a)">\n        <path d="M1.645 4 0 5.522 7 12l7-6.478L12.355 4 7 8.945 1.645 4Z" />\n    </g>\n    <defs>\n        <clipPath id="a">\n            <path fill="#fff" d="M0 0h14v14H0z" />\n        </clipPath>\n    </defs>\n</svg>\n  </div>\n  <div class="show-more__categories">\n  ${a.map((e=>`<button class="show-more__category" data-section=${e.section}>${e.display_name}</button>`)).join("")}\n  </div>\n</div>\n  `),document.getElementById("buttons-container").insertAdjacentHTML("beforeend",r.join(""));const o=document.querySelector(".show-more"),c=document.querySelector(".show-more__categories");o.addEventListener("click",(e=>{e.stopPropagation(),c.classList.toggle("show-more__categories--open")})),document.addEventListener("click",(()=>{c.classList.contains("show-more__categories--open")&&c.classList.remove("show-more__categories--open")})),function(){const e=document.querySelectorAll(".btn");let t=null;e.forEach((e=>{e.addEventListener("click",(n=>{null!==t&&t.classList.remove("active"),e.classList.add("active"),t=e}))}))}(),document.querySelectorAll(".btn").forEach((e=>{e.addEventListener("click",(e=>{const t=e.target.dataset.section;P.classList.contains("pagination_categories-hidden")&&(P.classList.toggle("pagination_categories-hidden"),q.classList.add("pagination-hidden")),L("categories",t),F(t,A.perPage,A.nextPage)}))}))};I(),window.addEventListener("resize",e(o)(I,300));window.addEventListener("resize",(()=>{let e=document.querySelector(".show-more_btn");const t=window.innerWidth;e.textContent=t<768?"Categories":"Others"}));const D=document.querySelector(".days"),N=document.querySelector(".current-date"),C=document.querySelector(".current-year"),O=document.querySelectorAll(".calendar-icons span"),j=document.querySelectorAll(".calendar-icons-year span");let B=new Date,H=(B.getDate(),B.getMonth()),J=B.getFullYear();(()=>{const e={openModalBtn:document.querySelector("[data-modal-open]"),closeModalBtn:document.querySelector("body"),modal:document.querySelector("[data-modal]"),input:document.querySelector(".calendar-input"),arrow:document.querySelector(".calendar__button-arrow"),calendarBtn:document.querySelector(".calendar__button-calendar")};e.openModalBtn.addEventListener("click",(function(){e.modal.classList.toggle("is-hidden"),e.input.classList.toggle("isActive"),e.arrow.classList.toggle("switched"),e.calendarBtn.classList.toggle("switchedColor")})),document.addEventListener("click",(function(t){document.getElementById("input-picker").value;if(t.target.closest(".calendar-form"))return;e.input.classList.contains("isActive")&&(e.modal.classList.add("is-hidden"),e.input.classList.remove("isActive"),e.arrow.classList.remove("switched"),e.calendarBtn.classList.remove("switchedColor"),document.getElementById("input-picker").value="",localStorage.removeItem("VALUE"),localStorage.removeItem("date"))}))})();const U=["January","February","March","April","May","June","July","August","September","October","November","December"],W=e=>{let t=new Date(J,H,1).getDay(),n=new Date(J,H+1,0).getDate(),a=new Date(J,H,n).getDay(),r=new Date(J,H,0).getDate(),o="";for(let e=t;e>0;e--)o+=`<li class="inactive">${r-e+1}</li>`;for(let e=1;e<=n;e++){o+=`<li class="${e===B.getDate()&&H===(new Date).getMonth()&&J===(new Date).getFullYear()}">${e}</li>`}for(let e=a;e<6;e++)o+=`<li class="inactive">${e-a+1}</li>`;N.innerText=`${U[H]}`,C.innerText=` ${J}`,D.innerHTML=o;document.querySelector(".days").addEventListener("click",(e=>{[...e.currentTarget.children].forEach((e=>{e.classList.remove("active")})),e.target.classList.add("active");let t=e.target.textContent;if(e.target.textContent.length>10)return;let n=(H+1).toString();document.getElementById("input-picker").value=t.padStart(2,"0")+"/"+n.padStart(2,"0")+"/"+J,localStorage.setItem("VALUE",JSON.stringify(t));let a=document.querySelector(".calendar-input").value;localStorage.setItem("date",JSON.stringify(a)),document.querySelector("[data-modal]").classList.add("is-hidden"),document.querySelector(".calendar-input").classList.remove("isActive"),document.querySelector(".calendar__button-arrow").classList.remove("switched"),document.querySelector(".calendar__button-calendar").classList.remove("switchedColor")}))};W();document.querySelector(".days");async function F(e,t,n){try{const a=encodeURIComponent(e),r=await fetch(`https://api.nytimes.com/svc/news/v3/content/all/${a}.json?api-key=A3GIIfyPWHBvfJdoXANwrFAEAGEQbzXw&limit=30`),o=(await r.json()).results;o.length;(0,b.default)((0,S.categoryNewsMarkup)(o.slice(t,n)))}catch(e){console.log(e),(0,S.nothingFound)()}}function Z(){const{totalPages:e,curPage:t,numLinksTwoSide:n}=A,a=n+4;let r="",o="",c='<li class="pg-item-cat"><a class="pg-link-cat">...</a></li>',s=0;const i=t-n,l=t+n;let d="";for(let n=1;n<=e;n++)d=n===t?"active":"",e>=2*a-1?i>3&&l<e-3+1?n>=i&&n<=l&&(o+=z(n,d)):t<a&&n<=a||t>e-a&&n>=e-a+1||n===e||1===n?r+=z(n,d):(s++,1===s&&(r+=c)):r+=z(n,d);o?(o=z(1)+c+o+c+z(e),x.innerHTML=o):x.innerHTML=r}function z(e,t=""){return` <li class="pg-item-cat ${t}" data-page="${e}">\n        <a class="pg-link-cat" href="#">${e}</a>\n    </li>`}function R(){1===A.curPage?k.disabled=!0:k.disabled=!1}function G(){A.curPage===A.totalPages?E.disabled=!0:E.disabled=!1}O.forEach((e=>{e.addEventListener("click",(()=>{H="prev"===e.id?H-1:H+1,H<0||H>11?(B=new Date(J,H,(new Date).getDate()),J=B.getFullYear(),H=B.getMonth()):B=new Date,W();let t=JSON.parse(localStorage.getItem("VALUE"));D.childNodes.forEach((e=>{e.textContent===t&&e.classList.add("active")}))}))})),j.forEach((e=>{e.addEventListener("click",(()=>{J="prev-year"===e.id?J-1:J+1,W()}))})),localStorage.removeItem("VALUE"),localStorage.removeItem("date"),Z(),x.addEventListener("click",(e=>{if(e.target.dataset.page){const t=parseInt(e.target.dataset.page,10);if(A.curPage=t,Z(),R(),G(),"1"==e.target.dataset.page)A.offset=0,A.perPage=0,A.nextPage=8;else{let t=Number(e.target.dataset.page),n=t-=1;A.offset=9*n,A.perPage=8*n,A.nextPage=A.perPage+8}}})),document.querySelector(".pagination--container--categories").addEventListener("click",(function(e){!function(e){e.classList.contains("prev-page-cat")?(A.curPage--,R(),E.disabled=!1):e.classList.contains("next-page-cat")&&(A.curPage++,G(),k.disabled=!1);Z()}(e.target)})),M.pagination.addEventListener("click",(e=>{e.target;(e.target.classList.contains("next-page-cat")||e.target.classList.contains("btn-next-cat"))&&A.curPage!==A.totalPages&&(A.curPage+=1,A.offset+=8,A.perPage+=8,A.nextPage+=8,window.scrollTo(0,0)),(e.target.classList.contains("prev-page-cat")||e.target.classList.contains("btn-prev-cat"))&&1!==A.curPage&&(A.curPage-=1,A.offset-=8,A.perPage-=8,A.nextPage-=8,window.scrollTo(0,0)),F(_("categories"),A.perPage,A.nextPage),console.log(A)}));S=r("3huUq"),b=r("b41dZ");const V=document.querySelectorAll(".news-card__list");function X(e){const t=e.target.closest(".news-card__read-more");if(!t)return;let n=(e=>{try{const t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}catch(e){console.error(e.message)}})("read-news")||[];const a=t.closest(".news-card__item"),r=a.querySelector(".news-card__img").getAttribute("src"),o=a.querySelector(".news-card__category").textContent,c=a.querySelector(".news-card__title").textContent,s=a.querySelector(".news-card__description").textContent,i=a.querySelector(".news-card__date").textContent,l=a.querySelector(".news-card__read-more").getAttribute("href");let d=new Date,u=String(d.getDate()).padStart(2,"0");const g={urlMedia:r,section:o,title:c,abstract:s,published_date:i,url:l,dateOfRead:String(d.getMonth()+1).padStart(2,"0")+"/"+u+"/"+d.getFullYear()};n.some((e=>g.url===e.url))||(n.push(g),((e,t)=>{try{const n=JSON.stringify(t);localStorage.setItem(e,n)}catch(e){console.error("Set state error: ",e.message)}})("read-news",n)),a.insertAdjacentHTML("beforeend",'<div class=\'already-read\'><div class=\'already-read__text\'><span>Already read</span> <svg width="18" height="18">\n    <path\n        d="M16.189 3.594a.6.6 0 0 0-.413.182L6.6 12.952 2.824 9.176a.6.6 0 1 0-.848.848l4.2 4.2a.6.6 0 0 0 .848 0l9.6-9.6a.6.6 0 0 0-.435-1.03Z"\n         />\n</svg></div></div>')}V.forEach((e=>{e.addEventListener("click",X)}));var Y=r("3vCWw");b=r("b41dZ"),S=r("3huUq");const Q=document.getElementById("pagination"),K=document.querySelector(".btn-next"),ee=document.querySelector(".btn-prev"),te=new(0,Y.default),ne={pagination:document.querySelector(".pagin")};let ae={curPage:1,numLinksTwoSide:1,totalPages:3,offset:0,perPage:0,nextPage:8};function re(){const{totalPages:e,curPage:t,numLinksTwoSide:n}=ae,a=n+4;let r="",o="",c='<li class="pg-item"><a class="pg-link">...</a></li>',s=0;const i=t-n,l=t+n;let d="";for(let n=1;n<=e;n++)d=n===t?"active":"",e>=2*a-1?i>3&&l<e-3+1?n>=i&&n<=l&&(o+=oe(n,d)):t<a&&n<=a||t>e-a&&n>=e-a+1||n===e||1===n?r+=oe(n,d):(s++,1===s&&(r+=c)):r+=oe(n,d);o?(o=oe(1)+c+o+c+oe(e),Q.innerHTML=o):Q.innerHTML=r}function oe(e,t=""){return` <li class="pg-item ${t}" data-page="${e}">\n        <a class="pg-link" href="#">${e}</a>\n    </li>`}function ce(){1===ae.curPage?ee.disabled=!0:ee.disabled=!1}function se(){ae.curPage===ae.totalPages?K.disabled=!0:K.disabled=!1}re(),Q.addEventListener("click",(e=>{if(e.target.dataset.page){const t=parseInt(e.target.dataset.page,10);if(ae.curPage=t,re(),ce(),se(),"1"==e.target.dataset.page)ae.offset=0,ae.perPage=0,ae.nextPage=8;else{let t=Number(e.target.dataset.page),n=t-=1;ae.offset=9*n,ae.perPage=8*n,ae.nextPage=ae.perPage+8}}})),document.querySelector(".pagination--container").addEventListener("click",(function(e){!function(e){e.classList.contains("prev-page")?(ae.curPage--,ce(),K.disabled=!1):e.classList.contains("next-page")&&(ae.curPage++,se(),ee.disabled=!1);re()}(e.target)})),ne.pagination.addEventListener("click",(e=>{const t=e.target;(t.classList.contains("next-page")||t.classList.contains("btn-next"))&&ae.curPage!==ae.totalPages&&(ae.curPage+=1,ae.offset+=8,ae.perPage+=8,ae.nextPage+=8),(t.classList.contains("prev-page")||t.classList.contains("btn-prev"))&&1!==ae.curPage&&(ae.curPage-=1,ae.offset-=8,ae.perPage-=8,ae.nextPage-=8),async function(e,t){try{const n=await te.popularNews();(0,b.default)((0,S.popularNewsMarkup)(n.slice(e,t)))}catch(e){console.error(e)}}(ae.perPage,ae.nextPage),window.scrollTo(0,0)}));Y=r("3vCWw"),b=r("b41dZ"),S=r("3huUq");r("mPsIJ");const ie=document.querySelector(".pagination--container"),le=new(0,Y.default);document.addEventListener("DOMContentLoaded",async function(e,t){try{const n=await le.popularNews();ie.classList.contains("pagination-hidden")&&ie.classList.toggle("pagination-hidden"),(0,b.default)((0,S.popularNewsMarkup)(n.slice(e,t)))}catch(e){console.error(e)}}(0,8));
//# sourceMappingURL=index.856de6cc.js.map
