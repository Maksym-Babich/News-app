!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequire7309;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},t.parcelRequire7309=a);var o=a("bpxeT"),c=a("2TvXO");a("i8Q71");o=a("bpxeT");var i,s=a("8nrFW"),u=(c=a("2TvXO"),{});Object.defineProperty(u,"__esModule",{value:!0}),u.default=function(e){return e&&e.constructor===Symbol?"symbol":typeof e};var l=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,v=/^0o[0-7]+$/i,p=parseInt,g="object"==typeof t&&t&&t.Object===Object&&t,m="object"==typeof self&&self&&self.Object===Object&&self,w=g||m||Function("return this")(),y=Object.prototype.toString,h=Math.max,b=Math.min,L=function(){return w.Date.now()};function S(t){var n=void 0===t?"undefined":e(u)(t);return!!t&&("object"==n||"function"==n)}function _(t){if("number"==typeof t)return t;if(function(t){return"symbol"==(void 0===t?"undefined":e(u)(t))||function(e){return!!e&&"object"==typeof e}(t)&&"[object Symbol]"==y.call(t)}(t))return NaN;if(S(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=S(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(l,"");var r=f.test(t);return r||v.test(t)?p(t.slice(2),r?2:8):d.test(t)?NaN:+t}i=function(e,t,n){var r,a,o,c,i,s,u=0,l=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=r,o=a;return r=a=void 0,u=t,c=e.apply(o,n)}function p(e){return u=e,i=setTimeout(m,t),l?v(e):c}function g(e){var n=e-s;return void 0===s||n>=t||n<0||d&&e-u>=o}function m(){var e=L();if(g(e))return w(e);i=setTimeout(m,function(e){var n=t-(e-s);return d?b(n,o-(e-u)):n}(e))}function w(e){return i=void 0,f&&r?v(e):(r=a=void 0,c)}function y(){var e=L(),n=g(e);if(r=arguments,a=this,s=e,n){if(void 0===i)return p(s);if(d)return i=setTimeout(m,t),v(s)}return void 0===i&&(i=setTimeout(m,t)),c}return t=_(t)||0,S(n)&&(l=!!n.leading,o=(d="maxWait"in n)?h(_(n.maxWait)||0,t):o,f="trailing"in n?!!n.trailing:f),y.cancel=function(){void 0!==i&&clearTimeout(i),u=0,r=s=a=i=void 0},y.flush=function(){return void 0===i?c:w(L())},y};var q=a("1KhuP"),x=a("0Vwwd"),E="A3GIIfyPWHBvfJdoXANwrFAEAGEQbzXw";function k(){return M.apply(this,arguments)}function M(){return(M=e(o)(e(c).mark((function t(){var n,r,a;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.nytimes.com/svc/news/v3/content/section-list.json?api-key=".concat(E));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,a=r.results,e.abrupt("return",a);case 8:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function T(){return P.apply(this,arguments)}function P(){return(P=e(o)(e(c).mark((function t(){var n;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.getElementById("buttons-container").innerHTML="",n=0,window.innerWidth<768&&k().then((function(e){D(e,n)})),window.innerWidth>=768&&window.innerWidth<1280&&(n=4,k().then((function(e){D(e,n)}))),window.innerWidth>=1280&&(n=6,k().then((function(e){D(e,n)})));case 6:case"end":return e.stop()}}),t)})))).apply(this,arguments)}var D=function(e,t){var n=e.slice(0,t),r=e.slice(t,-1),a=[];(a=n.map((function(e){return"<button data-section=".concat(e.section,' class="btn">').concat(e.display_name,"</button>")}))).push('\n    <div class="btn show-more">\n\n  <div class="text-icon_block">\n  <span class="show-more_btn">'.concat(window.innerWidth<768?"Categories":"Others","</span>\n    ").concat('<svg class = "show-more__icon" width="14" height="14">\n    <g clip-path="url(#a)">\n        <path d="M1.645 4 0 5.522 7 12l7-6.478L12.355 4 7 8.945 1.645 4Z" />\n    </g>\n    <defs>\n        <clipPath id="a">\n            <path fill="#fff" d="M0 0h14v14H0z" />\n        </clipPath>\n    </defs>\n</svg>','\n  </div>\n  <div class="show-more__categories">\n  ').concat(r.map((function(e){return'<button class="show-more__category" data-section='.concat(e.section,">").concat(e.display_name,"</button>")})).join(""),"\n  </div>\n</div>\n  ")),document.getElementById("buttons-container").insertAdjacentHTML("beforeend",a.join(""));var o,c,i=document.querySelector(".show-more"),s=document.querySelector(".show-more__categories");i.addEventListener("click",(function(e){e.stopPropagation(),s.classList.toggle("show-more__categories--open")})),document.addEventListener("click",(function(){s.classList.contains("show-more__categories--open")&&s.classList.remove("show-more__categories--open")})),o=document.querySelectorAll(".btn"),c=null,o.forEach((function(e){e.addEventListener("click",(function(t){null!==c&&c.classList.remove("active"),e.classList.add("active"),c=e}))})),document.querySelectorAll(".btn").forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),e.target.classList.contains("show-more")||e.target.classList.contains("show-more_btn")||e.target.classList.contains("show-more__icon")||function(e){F.apply(this,arguments)}(e.target.textContent.toLowerCase())}))}))};T(),window.addEventListener("resize",e(i)(T,300));window.addEventListener("resize",(function(){var e=document.querySelector(".show-more_btn"),t=window.innerWidth;e.textContent=t<768?"Categories":"Others"}));var A,O=document.querySelector(".days"),I=document.querySelector(".current-date"),j=document.querySelectorAll(".calendar-icons span"),N=new Date,C=(N.getDate(),N.getMonth()),B=N.getFullYear();(A={openModalBtn:document.querySelector("[data-modal-open]"),closeModalBtn:document.querySelector("body"),modal:document.querySelector("[data-modal]"),input:document.querySelector(".calendar-input"),arrow:document.querySelector(".calendar__button-arrow"),calendarBtn:document.querySelector(".calendar__button-calendar")}).openModalBtn.addEventListener("click",(function(){A.modal.classList.toggle("is-hidden"),A.input.classList.toggle("isActive"),A.arrow.classList.toggle("switched"),A.calendarBtn.classList.toggle("switchedColor")})),document.addEventListener("click",(function(e){document.getElementById("input-picker").value,e.target.closest(".calendar-form")||A.input.classList.contains("isActive")&&(A.modal.classList.add("is-hidden"),A.input.classList.remove("isActive"),A.arrow.classList.remove("switched"),A.calendarBtn.classList.remove("switchedColor"),document.getElementById("input-picker").value="",localStorage.removeItem("VALUE"),localStorage.removeItem("date"))}));var W=["January","February","March","April","May","June","July","August","September","October","November","December"],H=function(t){for(var n=new Date(B,C,1).getDay(),r=new Date(B,C+1,0).getDate(),a=new Date(B,C,r).getDay(),o=new Date(B,C,0).getDate(),c="",i=n;i>0;i--)c+='<li class="inactive">'.concat(o-i+1,"</li>");for(var u=1;u<=r;u++){var l=u===N.getDate()&&C===(new Date).getMonth()&&B===(new Date).getFullYear();c+='<li class="'.concat(l,'">').concat(u,"</li>")}for(var d=a;d<6;d++)c+='<li class="inactive">'.concat(d-a+1,"</li>");I.innerText="".concat(W[C]," ").concat(B),O.innerHTML=c,document.querySelector(".days").addEventListener("click",(function(t){e(s)(t.currentTarget.children).forEach((function(e){e.classList.remove("active")})),t.target.classList.add("active");var n=t.target.textContent;if(!(t.target.textContent.length>10)){var r=(C+1).toString();document.getElementById("input-picker").value=n.padStart(2,"0")+"/"+r.padStart(2,"0")+"/"+B,localStorage.setItem("VALUE",JSON.stringify(n));var a=document.querySelector(".calendar-input").value;localStorage.setItem("date",JSON.stringify(a)),document.querySelector("[data-modal]").classList.add("is-hidden"),document.querySelector(".calendar-input").classList.remove("isActive"),document.querySelector(".calendar__button-arrow").classList.remove("switched"),document.querySelector(".calendar__button-calendar").classList.remove("switchedColor")}}))};H();document.querySelector(".days");function F(){return(F=e(o)(e(c).mark((function t(n){var r,a,o,i;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=encodeURIComponent(n),e.next=4,fetch("https://api.nytimes.com/svc/news/v3/content/all/".concat(r,".json?api-key=").concat(E));case 4:return a=e.sent,e.next=7,a.json();case 7:o=e.sent,i=o.results,console.log(i),(0,x.default)((0,q.categoryNewsMarkup)(i)),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0),(0,q.pageNothingFound)();case 17:case"end":return e.stop()}}),t,null,[[0,13]])})))).apply(this,arguments)}j.forEach((function(e){e.addEventListener("click",(function(){(C="prev"===e.id?C-1:C+1)<0||C>11?(N=new Date(B,C,(new Date).getDate()),B=N.getFullYear(),C=N.getMonth()):N=new Date,H();var t=JSON.parse(localStorage.getItem("VALUE"));O.childNodes.forEach((function(e){e.textContent===t&&e.classList.add("active")}))}))})),localStorage.removeItem("VALUE"),localStorage.removeItem("date");q=a("1KhuP"),x=a("0Vwwd");a("jLBgW");var J=a("779U1");x=a("0Vwwd"),q=a("1KhuP");a("2y3lT");var U=document.getElementById("pagination"),V=document.querySelector("button.next-page"),X=document.querySelector("button.prev-page"),z=(document.querySelector(".list-news"),document.querySelector(".btn-next"),document.querySelector(".btn-prev"),document.querySelector(".pg-item"),{pagination:document.querySelector(".pagin")}),K={curPage:1,numLinksTwoSide:1,totalPages:13,offset:0};function R(){for(var e=K.totalPages,t=K.curPage,n=K.numLinksTwoSide,r=n+4,a="",o="",c='<li class="pg-item"><a class="pg-link">...</a></li>',i=0,s=t-n,u=t+n,l="",d=1;d<=e;d++)l=d===t?"active":"",e>=2*r-1?s>3&&u<e-3+1?d>=s&&d<=u&&(o+=$(d,l)):t<r&&d<=r||t>e-r&&d>=e-r+1||d===e||1===d?a+=$(d,l):1===++i&&(a+=c):a+=$(d,l);o?(o=$(1)+c+o+c+$(e),U.innerHTML=o):U.innerHTML=a}function $(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return' <li class="pg-item '.concat(t,'" data-page="').concat(e,'">\n        <a class="pg-link" href="#">').concat(e,"</a>\n    </li>")}function Y(){1===K.curPage?X.disabled=!0:X.disabled=!1}function G(){K.curPage===K.totalPages?V.disabled=!0:V.disabled=!1}R(),U.addEventListener("click",(function(e){if(e.target.dataset.page){var t=parseInt(e.target.dataset.page,10);if(K.curPage=t,R(),Y(),G(),"1"==e.target.dataset.page)K.offset=0;else{var n=Number(e.target.dataset.page),r=n-=1;K.offset=r*=9}}})),document.querySelector(".pagination--container").addEventListener("click",(function(e){!function(e){e.classList.contains("prev-page")?(K.curPage--,Y(),V.disabled=!1):e.classList.contains("next-page")&&(K.curPage++,G(),X.disabled=!1);R()}(e.target)})),z.pagination.addEventListener("click",(function(e){e.target;(e.target.classList.contains("next-page")||e.target.classList.contains("btn-next"))&&K.curPage!==K.totalPages&&(K.curPage+=1,K.offset+=9),(e.target.classList.contains("prev-page")||e.target.classList.contains("btn-prev"))&&1!==K.curPage&&(K.curPage-=1,K.offset-=9)})),a("7XbyU");q=a("1KhuP");var Q="favorite-news";document.querySelector(".news-card__list").addEventListener("click",(function(e){var t=e.target.closest(".news-card__btn-favorite");if(!t)return;var n=function(e){try{var t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}catch(e){console.error(e.message)}}(Q)||[],r=t.closest(".news-card__item"),a=r.getAttribute("id"),o=r.querySelector(".news-card__img").getAttribute("src"),c=r.querySelector(".news-card__category").textContent,i=r.querySelector(".news-card__title").textContent,s=r.querySelector(".news-card__description").textContent,u=r.querySelector(".news-card__date").textContent,l=r.querySelector(".news-card__read-more").getAttribute("href"),d=(r.querySelector(".news-card__read-more"),{id:a,urlMedia:o,section:c,title:i,abstract:s,published_date:u,url:l});n.some((function(e){return d.id===e.id}))&&null!=d.id||(n.push(d),Z(Q,n));if(t.classList.contains("remove-from-fav")){t.innerHTML="<span>Add to favorite</span>".concat(q.heartSvg);var f=n.filter((function(e){return d.url!==e.url}));Z(Q,f)}t.classList.contains("remove-from-fav")||(t.innerHTML="<span>Remove from favorite</span>".concat(q.activeHeartSvg));t.classList.toggle("remove-from-fav")}));var Z=function(e,t){try{var n=JSON.stringify(t);localStorage.setItem(e,n)}catch(e){console.error("Set state error: ",e.message)}};var ee=new(0,J.default);function te(){return(te=e(o)(e(c).mark((function t(){var n;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee.popularNews();case 3:n=e.sent,(0,x.default)((0,q.popularNewsMarkup)(n)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}document.addEventListener("DOMContentLoaded",function(){return te.apply(this,arguments)}())}();
//# sourceMappingURL=index.50cf3357.js.map
