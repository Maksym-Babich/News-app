{"mappings":"YAAO,SAASA,EAAWC,EAAMC,GAC/B,GAAID,EAAKE,OAASD,EAAY,CAC5B,IAAIE,EAAUH,EAAKI,OAAOC,UAAU,EAAGJ,GACnCK,EAAYH,EAAQI,YAAY,KACpC,OAAOJ,EAAQE,UAAU,EAAGC,GAAa,K,CAE3C,OAAON,C,CCJT,IAAMQ,EAAqBC,SAASC,cAAc,mBAE5CC,EAAe,gBAErBH,EAAmBI,UAAY,GAE/B,IAyB6BC,EAC3BC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAhCIC,EAAO,SAAAC,GACX,IACE,IAAMC,EAAkBC,aAAaC,QAAQH,GAC7C,OAA2B,OAApBC,OAA2BG,EAAYC,KAAKC,MAAML,E,CACzD,MAAOM,GACPC,QAAQD,MAAMA,EAAME,Q,GAalBC,EAAYX,EAAKV,GAElBsB,GAAc,EAAdC,GAAc,EAAdC,OAAcT,E,IAAnB,QAAKU,EAAAC,EAAkBL,EAASM,OAAAC,cAA3BN,GAAAG,EAAAC,EAAcG,QAAAC,MAAdR,GAAc,EAAe,CAA7B,IAAMS,EAANN,EAAcO,MACXC,GAKN9B,SACAC,SACAC,SACAC,SACAC,SACAC,SACAC,SANAN,GAD2BD,EAJM6B,GAKjC5B,GACAC,EAF2BF,EAE3BE,SACAC,EAH2BH,EAG3BG,QACAC,EAJ2BJ,EAI3BI,MACAC,EAL2BL,EAK3BK,SACAC,EAN2BN,EAM3BM,eACAC,EAP2BP,EAO3BO,IAEO,wCAImCyB,OAHP/B,EAAG,2IAIM+B,OADF9B,EAAS,sEAUZ8B,OATK7B,EAAQ,iXAUR6B,OADL9C,EAAWkB,EAAO,IAAI,uDAIrB4B,OAHI9C,EAAWmB,EAAU,IAAI,yGAOtB2B,OAJP1B,EAAe2B,WAC7C,IACA,KACA,4DACyCD,OAAJzB,EAAI,sEAlCnDZ,EAAmBuC,mBAAmB,YAAaH,E,WAFhDV,GAAc,EAAdC,EAAca,C,aAAdf,GAAc,MAAdI,EAAcY,QAAdZ,EAAcY,Q,YAAdf,E,MAAAC,C,EA2CL3B,EAAmB0C,iBAAiB,SACpC,SAA4BC,GAC1B,IAAMC,EAASD,EAAEE,OAAOC,QAAQ,4BAChC,IAAKF,EAAQ,OACb,IAAIG,EAAsBlC,EAAKV,GACzB6C,EAAOJ,EAAOE,QAAQ,oBAEtBxC,EAAK0C,EAAKC,aAAa,MACvB1C,EAAWyC,EAAK9C,cAAc,mBAAmB+C,aAAa,OAC9DzC,EAAUwC,EAAK9C,cAAc,wBAAwBgD,YACrDzC,EAAQuC,EAAK9C,cAAc,qBAAqBgD,YAChDxC,EAAWsC,EAAK9C,cAAc,2BAA2BgD,YACzDvC,EAAiBqC,EAAK9C,cAAc,oBAAoBgD,YACxDtC,EAAMoC,EAAK9C,cAAc,yBAAyB+C,aAAa,QAG/DE,EAAe,CACnB7C,KACAC,WACAC,UACAC,QACAC,WACAC,iBACAC,OAQF,GAL2BmC,EAAoBK,MAC7C,SAAAC,G,OAAQF,EAAa7C,KAAO+C,EAAK/C,E,IAIX,CACtB,IAAMgD,EAAsBP,EAAoBQ,QAC9C,SAAAC,G,OAAQL,EAAa7C,KAAOkD,EAAKlD,E,KAvF1B,SAACQ,EAAKqB,GACjB,IACE,IAAMpB,EAAkBI,KAAKsC,UAAUtB,GACvCnB,aAAa0C,QAAQ5C,EAAKC,E,CAC1B,MAAOM,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,EAoFzCoC,CAAKxD,EAAcmD,GACnBtD,EAAmB4D,YAAYZ,E","sources":["src/js/news-text-hiding.js","src/js/favorite-page.js"],"sourcesContent":["export function textHiding(text, textLength) {\n  if (text.length > textLength) {\n    let newText = text.trim().substring(0, textLength);\n    let lastSpace = newText.lastIndexOf(' ');\n    return newText.substring(0, lastSpace) + '...';\n  }\n  return text;\n}\n","import { textHiding } from './news-text-hiding';\n\nconst favoritesContainer = document.querySelector('.favorite__list');\n\nconst KEY_FAV_NEWS = 'favorite-news';\n\nfavoritesContainer.innerHTML = '';\n\nconst load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error(error.message);\n  }\n};\n\nconst save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n};\n\nconst favorites = load(KEY_FAV_NEWS);\n\nfor (const favorite of favorites) {\n  const card = createFavNewsMarkUp(favorite);\n  favoritesContainer.insertAdjacentHTML('beforeend', card);\n}\n\nfunction createFavNewsMarkUp({\n  id,\n  urlMedia,\n  section,\n  title,\n  abstract,\n  published_date,\n  url,\n}) {\n  return `\n    <li class=\"news-card__item\" id=${id}>\n      <article class=\"news-card__article\">\n        <div class=\"news-card__img-wrapper\">\n          <img class=\"news-card__img\" src=${urlMedia} alt=\"news image\" />\n          <span class=\"news-card__category\">${section}</span>\n          <div class=\"news-card__btn-favorite remove-from-fav\">\n            <span>Remove from favorite</span>\n            <svg class=\"news-card__btn-icon\">\n                <use href=\"./images/sprite.svg#heart\"></use>\n             </svg>\n            </div>\n        </div>\n        <div class=\"news-card__text\">\n          <h2 class=\"news-card__title\">${textHiding(title, 30)}</h2>\n          <p class=\"news-card__description\">${textHiding(abstract, 65)}</p>\n        </div>\n        <div class=\"news-card__info\">\n          <span class=\"news-card__date\">${published_date.replaceAll(\n            '-',\n            '/'\n          )}</span>\n          <a class=\"news-card__read-more\" href=${url}>Read more</a>\n        </div>\n      </article>\n    </li>\n    `;\n}\n\nfavoritesContainer.addEventListener('click', onFavoriteBtnClick);\nfunction onFavoriteBtnClick(e) {\n  const favBtn = e.target.closest('.news-card__btn-favorite');\n  if (!favBtn) return;\n  let currentStorageState = load(KEY_FAV_NEWS);\n  const card = favBtn.closest('.news-card__item');\n\n  const id = card.getAttribute('id');\n  const urlMedia = card.querySelector('.news-card__img').getAttribute('src');\n  const section = card.querySelector('.news-card__category').textContent;\n  const title = card.querySelector('.news-card__title').textContent;\n  const abstract = card.querySelector('.news-card__description').textContent;\n  const published_date = card.querySelector('.news-card__date').textContent;\n  const url = card.querySelector('.news-card__read-more').getAttribute('href');\n\n  // об'єкт, що зберігається у сховищі\n  const selectedNews = {\n    id,\n    urlMedia,\n    section,\n    title,\n    abstract,\n    published_date,\n    url,\n  };\n\n  const isAlreadyInStorage = currentStorageState.some(\n    news => selectedNews.id === news.id\n  );\n\n  // перевірка чи є у сховищі\n  if (isAlreadyInStorage) {\n    const updatedStorageState = currentStorageState.filter(\n      item => selectedNews.id === item.id\n    );\n    save(KEY_FAV_NEWS, updatedStorageState);\n    favoritesContainer.removeChild(card);\n  }\n}\n"],"names":["$5ca7030e090f85c7$export$e402fc1a5abd74d4","text","textLength","length","newText","trim","substring","lastSpace","lastIndexOf","$732ea10bcbd98d8a$var$favoritesContainer","document","querySelector","$732ea10bcbd98d8a$var$KEY_FAV_NEWS","innerHTML","param","id","urlMedia","section","title","abstract","published_date","url","$732ea10bcbd98d8a$var$load","key","serializedState","localStorage","getItem","undefined","JSON","parse","error","console","message","$732ea10bcbd98d8a$var$favorites","$732ea10bcbd98d8a$var$_iteratorNormalCompletion","$732ea10bcbd98d8a$var$_didIteratorError","$732ea10bcbd98d8a$var$_iteratorError","$732ea10bcbd98d8a$var$_step","$732ea10bcbd98d8a$var$_iterator","Symbol","iterator","next","done","$732ea10bcbd98d8a$var$favorite","value","$732ea10bcbd98d8a$var$card","concat","replaceAll","insertAdjacentHTML","err","return","addEventListener","e","favBtn","target","closest","currentStorageState","card","getAttribute","textContent","selectedNews","some","news","updatedStorageState","filter","item","stringify","setItem","$732ea10bcbd98d8a$var$save","removeChild"],"version":3,"file":"favourite.9e74fbe1.js.map"}