var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},a=e.parcelRequire7309;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in r){var a=r[e];delete r[e];var n={id:e,exports:{}};return t[e]=n,a.call(n.exports,n,n.exports),n.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){r[e]=t},e.parcelRequire7309=a);const n=document.querySelectorAll(".news-card__list"),s=e=>{try{const t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}catch(e){console.error(e.message)}};function c(e){const t=e.target.closest(".news-card__read-more");if(!t)return;let r=s("read-news")||[];const a=t.closest(".news-card__item"),n=a.querySelector(".news-card__img").getAttribute("src"),c=a.querySelector(".news-card__category").textContent,o=a.querySelector(".news-card__title").textContent,d=a.querySelector(".news-card__description").textContent,l=a.querySelector(".news-card__date").textContent,i=a.querySelector(".news-card__read-more").getAttribute("href");let u=new Date,f=String(u.getDate()).padStart(2,"0");const _={urlMedia:n,section:c,title:o,abstract:d,published_date:l,url:i,dateOfRead:String(u.getMonth()+1).padStart(2,"0")+"/"+f+"/"+u.getFullYear()};r.some((e=>_.url===e.url))||(r.push(_),((e,t)=>{try{const r=JSON.stringify(t);localStorage.setItem(e,r)}catch(e){console.error("Set state error: ",e.message)}})("read-news",r)),a.insertAdjacentHTML("beforeend",'<div class=\'already-read\'><div class=\'already-read__text\'><span>Already read</span> <svg width="18" height="18">\n    <path\n        d="M16.189 3.594a.6.6 0 0 0-.413.182L6.6 12.952 2.824 9.176a.6.6 0 1 0-.848.848l4.2 4.2a.6.6 0 0 0 .848 0l9.6-9.6a.6.6 0 0 0-.435-1.03Z"\n         />\n</svg></div></div>')}n.forEach((e=>{e.addEventListener("click",c)})),a("bUb57");var o=a("3huUq"),d=a("mPsIJ");o=a("3huUq");const l=document.querySelector(".read-by-date-list"),i=document.querySelector("#home"),u=document.querySelector("#favourite"),f=document.querySelector("#read");window.location.pathname.indexOf("/favourite")>=0?(i.classList.remove("current"),f.classList.remove("current"),u.classList.add("current")):window.location.pathname.indexOf("/read")>=0?(i.classList.remove("current"),u.classList.remove("current"),f.classList.add("current")):(u.classList.remove("current"),f.classList.remove("current"),i.classList.add("current"));const _=document.querySelector(".checkbox"),v=document.querySelector(".mobile-checkbox"),g=document.querySelector("body");function m(){this.checked?(g.classList.add("dark"),localStorage.setItem("dark-theme","dark")):(g.classList.remove("dark"),localStorage.setItem("dark-theme","light"))}_.addEventListener("change",m),v.addEventListener("change",m);document.querySelector(".read-by-date-list").addEventListener("click",(function(e){const t=e.target.closest(".hide-button");if(!t)return;t.closest(".read-by-date-container").classList.toggle("list-hidden")}));const h=s("read-news");if(h){const e=[];for(let t of h)e.includes(t.dateOfRead)||e.push(t.dateOfRead);const t=e.map((e=>`<li class="read-by-date-container">\n      <div class="date-wrapper">\n        <button class="hide-button" type="button">\n          <p class="date-of-read">${e}</p>\n          \n  <svg width="14" height="9" class="hide-button__icon">\n    <g clip-path="url(#a)">\n      <path d="M1.645 11 0 9.478 7 3l7 6.478L12.355 11 7 6.055 1.645 11Z" />\n    </g>\n    <defs>\n      <clipPath id="a">\n        <path fill="#fff" d="M0 0h14v14H0z" />\n      </clipPath>\n    </defs>\n  </svg>\n\n        </button>\n      </div>\n      <ul class="news-card__list"></ul>\n    </li>`));l.innerHTML=t.reverse().join("");document.querySelectorAll(".news-card__list").forEach((e=>{for(let t of h)if(t.dateOfRead===e.closest(".read-by-date-container").querySelector(".date-of-read").textContent){const r=`\n    <li class="news-card__item" >\n      <article class="news-card__article">\n        <div class="news-card__img-wrapper">\n          <img class="news-card__img" src=${t.urlMedia} alt="news image" />\n          <span class="news-card__category">${t.section}</span>\n          <div class="news-card__btn-favorite ${(0,o.checkFavoriteStorage)(t.url)?"remove-from-fav":""}">\n            <span>${(0,o.checkFavoriteStorage)(t.url)?"Remove from favorite":"Add to favorite"}</span>\n            ${(0,o.checkFavoriteStorage)(t.url)?o.activeHeartSvg:o.heartSvg}\n            </div>\n        </div>\n        <div class="news-card__text">\n          <h2 class="news-card__title">${(0,d.textHiding)(t.title,60)}</h2>\n          <p class="news-card__description">${(0,d.textHiding)(t.abstract,150)}</p>\n        </div>\n        <div class="news-card__info">\n          <span class="news-card__date">${t.published_date.replaceAll("-","/")}</span>\n          <a class="news-card__read-more" href=${t.url} target='blank'>Read more</a>\n        </div>\n      </article>\n    </li>\n    `;e.insertAdjacentHTML("beforeend",r)}}))}else(0,o.nothingFound)();const p=document.querySelector(".read-by-date-list"),w=(e,t)=>{try{const r=JSON.stringify(t);localStorage.setItem(e,r)}catch(e){console.error("Set state error: ",e.message)}};p.addEventListener("click",(function(e){const t=e.target.closest(".news-card__btn-favorite");if(!t)return;let r=(e=>{try{const t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}catch(e){console.error(e.message)}})("favorite-news")||[];const a=t.closest(".news-card__item"),n=a.getAttribute("id"),s=a.querySelector(".news-card__img").getAttribute("src"),c=a.querySelector(".news-card__category").textContent,d=a.querySelector(".news-card__title").textContent,l=a.querySelector(".news-card__description").textContent,i=a.querySelector(".news-card__date").textContent,u=a.querySelector(".news-card__read-more").getAttribute("href"),f={id:n,urlMedia:s,section:c,title:d,abstract:l,published_date:i,url:u};r.some((e=>f.url===e.url))||(r.push(f),w("favorite-news",r));if(t.classList.contains("remove-from-fav")){t.innerHTML=`<span>Add to favorite</span>${o.heartSvg}`;const e=r.filter((e=>f.url!==e.url));w("favorite-news",e)}t.classList.contains("remove-from-fav")||(t.innerHTML=`<span>Remove from favorite</span>${o.activeHeartSvg}`);t.classList.toggle("remove-from-fav")}));
//# sourceMappingURL=read.a07ef5a4.js.map
