function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},a=t.parcelRequire7309;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){o[e]=t},t.parcelRequire7309=a),a("bUb57");var r,c=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,l=/^0o[0-7]+$/i,d=parseInt,u="object"==typeof t&&t&&t.Object===Object&&t,g="object"==typeof self&&self&&self.Object===Object&&self,f=u||g||Function("return this")(),m=Object.prototype.toString,p=Math.max,v=Math.min,w=function(){return f.Date.now()};function y(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function h(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==m.call(e)}(e))return NaN;if(y(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=y(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(c,"");var n=i.test(e);return n||l.test(e)?d(e.slice(2),n?2:8):s.test(e)?NaN:+e}r=function(e,t,n){var o,a,r,c,s,i,l=0,d=!1,u=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=o,r=a;return o=a=void 0,l=t,c=e.apply(r,n)}function m(e){return l=e,s=setTimeout(L,t),d?f(e):c}function b(e){var n=e-i;return void 0===i||n>=t||n<0||u&&e-l>=r}function L(){var e=w();if(b(e))return S(e);s=setTimeout(L,function(e){var n=t-(e-i);return u?v(n,r-(e-l)):n}(e))}function S(e){return s=void 0,g&&o?f(e):(o=a=void 0,c)}function _(){var e=w(),n=b(e);if(o=arguments,a=this,i=e,n){if(void 0===s)return m(i);if(u)return s=setTimeout(L,t),f(i)}return void 0===s&&(s=setTimeout(L,t)),c}return t=h(t)||0,y(n)&&(d=!!n.leading,r=(u="maxWait"in n)?p(h(n.maxWait)||0,t):r,g="trailing"in n?!!n.trailing:g),_.cancel=function(){void 0!==s&&clearTimeout(s),l=0,o=i=a=s=void 0},_.flush=function(){return void 0===s?c:S(w())},_};var b=a("3huUq"),L=a("b41dZ");async function S(){const e=await fetch("https://api.nytimes.com/svc/news/v3/content/section-list.json?api-key=A3GIIfyPWHBvfJdoXANwrFAEAGEQbzXw");return(await e.json()).results}async function _(){document.getElementById("buttons-container").innerHTML="";let e=0;window.innerWidth<768&&S().then((t=>{q(t,e)})),window.innerWidth>=768&&window.innerWidth<1280&&(e=4,S().then((t=>{q(t,e)}))),window.innerWidth>=1280&&(e=6,S().then((t=>{q(t,e)})))}const q=(e,t)=>{const n=e.slice(0,t),o=e.slice(t,-1);let a=[];a=n.map((e=>`<button data-section=${e.section} class="btn">${e.display_name}</button>`));a.push(`\n    <div class="btn show-more">\n\n  <div class="text-icon_block">\n  <span class="show-more_btn">${window.innerWidth<768?"Categories":"Others"}</span>\n    <svg class = "show-more__icon" width="14" height="14">\n    <g clip-path="url(#a)">\n        <path d="M1.645 4 0 5.522 7 12l7-6.478L12.355 4 7 8.945 1.645 4Z" />\n    </g>\n    <defs>\n        <clipPath id="a">\n            <path fill="#fff" d="M0 0h14v14H0z" />\n        </clipPath>\n    </defs>\n</svg>\n  </div>\n  <div class="show-more__categories">\n  ${o.map((e=>`<button class="show-more__category" data-section=${e.section}>${e.display_name}</button>`)).join("")}\n  </div>\n</div>\n  `),document.getElementById("buttons-container").insertAdjacentHTML("beforeend",a.join(""));const r=document.querySelector(".show-more"),c=document.querySelector(".show-more__categories");r.addEventListener("click",(e=>{e.stopPropagation(),c.classList.toggle("show-more__categories--open")})),document.addEventListener("click",(()=>{c.classList.contains("show-more__categories--open")&&c.classList.remove("show-more__categories--open")})),function(){const e=document.querySelectorAll(".btn");let t=null;e.forEach((e=>{e.addEventListener("click",(n=>{null!==t&&t.classList.remove("active"),e.classList.add("active"),t=e}))}))}(),document.querySelectorAll(".btn").forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),e.target.classList.contains("show-more")||e.target.classList.contains("show-more_btn")||e.target.classList.contains("show-more__icon")||async function(e){try{const t=encodeURIComponent(e),n=await fetch(`https://api.nytimes.com/svc/news/v3/content/all/${t}.json?api-key=A3GIIfyPWHBvfJdoXANwrFAEAGEQbzXw`),o=(await n.json()).results;console.log(o),(0,L.default)((0,b.categoryNewsMarkup)(o))}catch(e){console.log(e),(0,b.pageNothingFound)()}}(e.target.textContent.toLowerCase())}))}))};_(),window.addEventListener("resize",e(r)(_,300));window.addEventListener("resize",(()=>{let e=document.querySelector(".show-more_btn");const t=window.innerWidth;e.textContent=t<768?"Categories":"Others"}));const E=document.querySelector(".days"),x=document.querySelector(".current-date"),A=document.querySelectorAll(".calendar-icons span");let M=new Date,k=(M.getDate(),M.getMonth()),D=M.getFullYear();(()=>{const e={openModalBtn:document.querySelector("[data-modal-open]"),closeModalBtn:document.querySelector("body"),modal:document.querySelector("[data-modal]"),input:document.querySelector(".calendar-input"),arrow:document.querySelector(".calendar__button-arrow"),calendarBtn:document.querySelector(".calendar__button-calendar")};e.openModalBtn.addEventListener("click",(function(){e.modal.classList.toggle("is-hidden"),e.input.classList.toggle("isActive"),e.arrow.classList.toggle("switched"),e.calendarBtn.classList.toggle("switchedColor")})),document.addEventListener("click",(function(t){document.getElementById("input-picker").value;if(t.target.closest(".calendar-form"))return;e.input.classList.contains("isActive")&&(e.modal.classList.add("is-hidden"),e.input.classList.remove("isActive"),e.arrow.classList.remove("switched"),e.calendarBtn.classList.remove("switchedColor"),document.getElementById("input-picker").value="",localStorage.removeItem("VALUE"),localStorage.removeItem("date"))}))})();const I=["January","February","March","April","May","June","July","August","September","October","November","December"],$=e=>{let t=new Date(D,k,1).getDay(),n=new Date(D,k+1,0).getDate(),o=new Date(D,k,n).getDay(),a=new Date(D,k,0).getDate(),r="";for(let e=t;e>0;e--)r+=`<li class="inactive">${a-e+1}</li>`;for(let e=1;e<=n;e++){r+=`<li class="${e===M.getDate()&&k===(new Date).getMonth()&&D===(new Date).getFullYear()}">${e}</li>`}for(let e=o;e<6;e++)r+=`<li class="inactive">${e-o+1}</li>`;x.innerText=`${I[k]} ${D}`,E.innerHTML=r;document.querySelector(".days").addEventListener("click",(e=>{[...e.currentTarget.children].forEach((e=>{e.classList.remove("active")})),e.target.classList.add("active");let t=e.target.textContent;if(e.target.textContent.length>10)return;let n=(k+1).toString();document.getElementById("input-picker").value=t.padStart(2,"0")+"/"+n.padStart(2,"0")+"/"+D,localStorage.setItem("VALUE",JSON.stringify(t));let o=document.querySelector(".calendar-input").value;localStorage.setItem("date",JSON.stringify(o)),document.querySelector("[data-modal]").classList.add("is-hidden"),document.querySelector(".calendar-input").classList.remove("isActive"),document.querySelector(".calendar__button-arrow").classList.remove("switched"),document.querySelector(".calendar__button-calendar").classList.remove("switchedColor")}))};$();document.querySelector(".days");A.forEach((e=>{e.addEventListener("click",(()=>{k="prev"===e.id?k-1:k+1,k<0||k>11?(M=new Date(D,k,(new Date).getDate()),D=M.getFullYear(),k=M.getMonth()):M=new Date,$();let t=JSON.parse(localStorage.getItem("VALUE"));E.childNodes.forEach((e=>{e.textContent===t&&e.classList.add("active")}))}))})),localStorage.removeItem("VALUE"),localStorage.removeItem("date");b=a("3huUq"),L=a("b41dZ");a("fKrXO");var P=a("3vCWw");L=a("b41dZ"),b=a("3huUq");a("4Bs1J");const N=document.getElementById("pagination"),O=document.querySelector("button.next-page"),T=document.querySelector("button.prev-page"),C=(document.querySelector(".list-news"),document.querySelector(".btn-next"),document.querySelector(".btn-prev"),document.querySelector(".pg-item"),{pagination:document.querySelector(".pagin")});const j={curPage:1,numLinksTwoSide:1,totalPages:13,offset:0};function B(){const{totalPages:e,curPage:t,numLinksTwoSide:n}=j,o=n+4;let a="",r="",c='<li class="pg-item"><a class="pg-link">...</a></li>',s=0;const i=t-n,l=t+n;let d="";for(let n=1;n<=e;n++)d=n===t?"active":"",e>=2*o-1?i>3&&l<e-3+1?n>=i&&n<=l&&(r+=J(n,d)):t<o&&n<=o||t>e-o&&n>=e-o+1||n===e||1===n?a+=J(n,d):(s++,1===s&&(a+=c)):a+=J(n,d);r?(r=J(1)+c+r+c+J(e),N.innerHTML=r):N.innerHTML=a}function J(e,t=""){return` <li class="pg-item ${t}" data-page="${e}">\n        <a class="pg-link" href="#">${e}</a>\n    </li>`}function U(){1===j.curPage?T.disabled=!0:T.disabled=!1}function H(){j.curPage===j.totalPages?O.disabled=!0:O.disabled=!1}B(),N.addEventListener("click",(e=>{if(e.target.dataset.page){const t=parseInt(e.target.dataset.page,10);if(j.curPage=t,B(),U(),H(),"1"==e.target.dataset.page)j.offset=0;else{let t=Number(e.target.dataset.page),n=t-=1;j.offset=n*=9}}})),document.querySelector(".pagination--container").addEventListener("click",(function(e){!function(e){e.classList.contains("prev-page")?(j.curPage--,U(),O.disabled=!1):e.classList.contains("next-page")&&(j.curPage++,H(),T.disabled=!1);B()}(e.target)})),C.pagination.addEventListener("click",(e=>{e.target;(e.target.classList.contains("next-page")||e.target.classList.contains("btn-next"))&&j.curPage!==j.totalPages&&(j.curPage+=1,j.offset+=9),(e.target.classList.contains("prev-page")||e.target.classList.contains("btn-prev"))&&1!==j.curPage&&(j.curPage-=1,j.offset-=9)})),a("mPsIJ");b=a("3huUq");document.querySelector(".news-card__list").addEventListener("click",(function(e){const t=e.target.closest(".news-card__btn-favorite");if(!t)return;let n=(e=>{try{const t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}catch(e){console.error(e.message)}})("favorite-news")||[];const o=t.closest(".news-card__item"),a=o.getAttribute("id"),r=o.querySelector(".news-card__img").getAttribute("src"),c=o.querySelector(".news-card__category").textContent,s=o.querySelector(".news-card__title").textContent,i=o.querySelector(".news-card__description").textContent,l=o.querySelector(".news-card__date").textContent,d=o.querySelector(".news-card__read-more").getAttribute("href"),u=(o.querySelector(".news-card__read-more"),{id:a,urlMedia:r,section:c,title:s,abstract:i,published_date:l,url:d});n.some((e=>u.id===e.id))&&null!=u.id||(n.push(u),W("favorite-news",n));if(t.classList.contains("remove-from-fav")){t.innerHTML=`<span>Add to favorite</span>${b.heartSvg}`;const e=n.filter((e=>u.url!==e.url));W("favorite-news",e)}t.classList.contains("remove-from-fav")||(t.innerHTML=`<span>Remove from favorite</span>${b.activeHeartSvg}`);t.classList.toggle("remove-from-fav")}));const W=(e,t)=>{try{const n=JSON.stringify(t);localStorage.setItem(e,n)}catch(e){console.error("Set state error: ",e.message)}};const F=new(0,P.default);document.addEventListener("DOMContentLoaded",async function(){try{const e=await F.popularNews();(0,L.default)((0,b.popularNewsMarkup)(e))}catch(e){console.error(e)}}());
//# sourceMappingURL=index.893c8e8c.js.map
