!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},a=e.parcelRequire7309;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in r){var a=r[e];delete r[e];var n={id:e,exports:{}};return t[e]=n,a.call(n.exports,n,n.exports),n.exports}var c=new Error("Cannot find module '"+e+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(e,t){r[e]=t},e.parcelRequire7309=a);var n="read-news",c=document.querySelectorAll(".news-card__list"),s="<div class='already-read'><div class='already-read__text'><span>Already read</span> ".concat('<svg width="18" height="18">\n    <path\n        d="M16.189 3.594a.6.6 0 0 0-.413.182L6.6 12.952 2.824 9.176a.6.6 0 1 0-.848.848l4.2 4.2a.6.6 0 0 0 .848 0l9.6-9.6a.6.6 0 0 0-.435-1.03Z"\n         />\n</svg>',"</div></div>"),o=function(e){try{var t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}catch(e){console.error(e.message)}};function d(e){var t=e.target.closest(".news-card__read-more");if(t){var r=o(n)||[],a=t.closest(".news-card__item"),c=a.querySelector(".news-card__img").getAttribute("src"),d=a.querySelector(".news-card__category").textContent,i=a.querySelector(".news-card__title").textContent,l=a.querySelector(".news-card__description").textContent,u=a.querySelector(".news-card__date").textContent,v=a.querySelector(".news-card__read-more").getAttribute("href"),f=new Date,h=String(f.getDate()).padStart(2,"0"),_={urlMedia:c,section:d,title:i,abstract:l,published_date:u,url:v,dateOfRead:String(f.getMonth()+1).padStart(2,"0")+"/"+h+"/"+f.getFullYear()};r.some((function(e){return _.url===e.url}))||(r.push(_),function(e,t){try{var r=JSON.stringify(t);localStorage.setItem(e,r)}catch(e){console.error("Set state error: ",e.message)}}(n,r)),a.insertAdjacentHTML("beforeend",s)}}c.forEach((function(e){e.addEventListener("click",d)})),a("i8Q71");var i=a("1KhuP"),l=a("7XbyU"),u=(i=a("1KhuP"),document.querySelector(".read-by-date-list")),v=document.querySelector("#home"),f=document.querySelector("#favourite"),h=document.querySelector("#read");window.location.pathname.indexOf("/favourite")>=0?(v.classList.remove("current"),h.classList.remove("current"),f.classList.add("current")):window.location.pathname.indexOf("/read")>=0?(v.classList.remove("current"),f.classList.remove("current"),h.classList.add("current")):(f.classList.remove("current"),h.classList.remove("current"),v.classList.add("current"));var _=document.querySelector(".checkbox"),g=document.querySelector(".mobile-checkbox"),m=document.querySelector("body");function p(){this.checked?(m.classList.add("dark"),localStorage.setItem("dark-theme","dark")):(m.classList.remove("dark"),localStorage.setItem("dark-theme","light"))}_.addEventListener("change",p),g.addEventListener("change",p);document.querySelector(".read-by-date-list").addEventListener("click",(function(e){var t=e.target.closest(".hide-button");t&&t.closest(".read-by-date-container").classList.toggle("list-hidden")}));var y=o("read-news");if(y){var w=[],S=!0,b=!1,L=void 0;try{for(var x,q=y[Symbol.iterator]();!(S=(x=q.next()).done);S=!0){var k=x.value;w.includes(k.dateOfRead)||w.push(k.dateOfRead)}}catch(e){b=!0,L=e}finally{try{S||null==q.return||q.return()}finally{if(b)throw L}}var O=w.map((function(e){return'<li class="read-by-date-container">\n      <div class="date-wrapper">\n        <button class="hide-button" type="button">\n          <p class="date-of-read">'.concat(e,"</p>\n          ").concat('\n  <svg width="14" height="9" class="hide-button__icon">\n    <g clip-path="url(#a)">\n      <path d="M1.645 11 0 9.478 7 3l7 6.478L12.355 11 7 6.055 1.645 11Z" />\n    </g>\n    <defs>\n      <clipPath id="a">\n        <path fill="#fff" d="M0 0h14v14H0z" />\n      </clipPath>\n    </defs>\n  </svg>\n','\n        </button>\n      </div>\n      <ul class="news-card__list"></ul>\n    </li>')}));u.innerHTML=O.reverse().join(""),cardLists=document.querySelectorAll(".news-card__list"),cardLists.forEach((function(e){var t=!0,r=!1,a=void 0;try{for(var n,c=y[Symbol.iterator]();!(t=(n=c.next()).done);t=!0){var s=n.value;if(s.dateOfRead===e.closest(".read-by-date-container").querySelector(".date-of-read").textContent){var o='\n    <li class="news-card__item" >\n      <article class="news-card__article">\n        <div class="news-card__img-wrapper">\n          <img class="news-card__img" src='.concat(s.urlMedia,' alt="news image" />\n          <span class="news-card__category">').concat(s.section,'</span>\n          <div class="news-card__btn-favorite ').concat((0,i.checkFavoriteStorage)(s.url)?"remove-from-fav":"",'">\n            <span>').concat((0,i.checkFavoriteStorage)(s.url)?"Remove from favorite":"Add to favorite","</span>\n            ").concat((0,i.checkFavoriteStorage)(s.url)?i.activeHeartSvg:i.heartSvg,'\n            </div>\n        </div>\n        <div class="news-card__text">\n          <h2 class="news-card__title">').concat((0,l.textHiding)(s.title,60),'</h2>\n          <p class="news-card__description">').concat((0,l.textHiding)(s.abstract,150),'</p>\n        </div>\n        <div class="news-card__info">\n          <span class="news-card__date">').concat(s.published_date.replaceAll("-","/"),'</span>\n          <a class="news-card__read-more" href=').concat(s.url," target='blank'>Read more</a>\n        </div>\n      </article>\n    </li>\n    ");e.insertAdjacentHTML("beforeend",o)}}}catch(e){r=!0,a=e}finally{try{t||null==c.return||c.return()}finally{if(r)throw a}}}))}else(0,i.pageNothingFound)()}();
//# sourceMappingURL=read.fe4ec0bc.js.map
