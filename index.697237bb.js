!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},r=t.parcelRequire7309;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){a[e]=t},t.parcelRequire7309=r);var o=r("bpxeT"),c=r("2TvXO");r("i8Q71");o=r("bpxeT");var s=r("8nrFW"),i=(c=r("2TvXO"),r("1KhuP")),l=r("0Vwwd"),u="A3GIIfyPWHBvfJdoXANwrFAEAGEQbzXw";function d(){return g.apply(this,arguments)}function g(){return(g=e(o)(e(c).mark((function t(){var n,a,r;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.nytimes.com/svc/news/v3/content/section-list.json?api-key=".concat(u));case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,r=a.results,e.abrupt("return",r);case 8:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function p(){return(p=e(o)(e(c).mark((function t(){var n;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0,window.innerWidth<768&&d().then((function(e){f(e,n)})),window.innerWidth>=768&&window.innerWidth<1280&&(n=4,d().then((function(e){f(e,n)}))),window.innerWidth>=1280&&(n=6,d().then((function(e){f(e,n)})));case 4:case"end":return e.stop()}}),t)})))).apply(this,arguments)}var f=function(e,t){var n=e.slice(0,t),a=e.slice(t,-1),r=[];(r=n.map((function(e){return"<button data-section=".concat(e.section,' class="btn">').concat(e.display_name,"</button>")}))).push('\n    <div class="btn show-more">\n\n  <div class="text-icon_block">\n  <span class="show-more_btn">'.concat(window.innerWidth<768?"Categories":"Others","</span>\n    ").concat('<svg class = "show-more__icon" width="14" height="14">\n    <g clip-path="url(#a)">\n        <path d="M1.645 4 0 5.522 7 12l7-6.478L12.355 4 7 8.945 1.645 4Z" />\n    </g>\n    <defs>\n        <clipPath id="a">\n            <path fill="#fff" d="M0 0h14v14H0z" />\n        </clipPath>\n    </defs>\n</svg>','\n  </div>\n  <div class="show-more__categories">\n  ').concat(a.map((function(e){return'<button class="show-more__category" data-section='.concat(e.section,">").concat(e.display_name,"</button>")})).join(""),"\n  </div>\n</div>\n  ")),document.getElementById("buttons-container").insertAdjacentHTML("beforeend",r.join(""));var o,c,s=document.querySelector(".show-more"),i=document.querySelector(".show-more__categories");s.addEventListener("click",(function(e){e.stopPropagation(),i.classList.toggle("show-more__categories--open")})),document.addEventListener("click",(function(){i.classList.contains("show-more__categories--open")&&i.classList.remove("show-more__categories--open")})),o=document.querySelectorAll(".btn"),c=null,o.forEach((function(e){e.addEventListener("click",(function(t){null!==c&&c.classList.remove("active"),e.classList.add("active"),c=e}))})),document.querySelectorAll(".btn").forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),e.target.classList.contains("show-more")||e.target.classList.contains("show-more_btn")||e.target.classList.contains("show-more__icon")||function(e){q.apply(this,arguments)}(e.target.textContent.toLowerCase())}))}))};!function(){p.apply(this,arguments)}();window.addEventListener("resize",(function(){var e=document.querySelector(".show-more_btn"),t=window.innerWidth;e.textContent=t<768?"Categories":"Others"}));var v,m=document.querySelector(".days"),w=document.querySelector(".current-date"),h=document.querySelectorAll(".calendar-icons span"),y=new Date,L=(y.getDate(),y.getMonth()),S=y.getFullYear();(v={openModalBtn:document.querySelector("[data-modal-open]"),closeModalBtn:document.querySelector("body"),modal:document.querySelector("[data-modal]"),input:document.querySelector(".calendar-input"),arrow:document.querySelector(".calendar__button-arrow"),calendarBtn:document.querySelector(".calendar__button-calendar")}).openModalBtn.addEventListener("click",(function(){v.modal.classList.toggle("is-hidden"),v.input.classList.toggle("isActive"),v.arrow.classList.toggle("switched"),v.calendarBtn.classList.toggle("switchedColor")})),document.addEventListener("click",(function(e){document.getElementById("input-picker").value,e.target.closest(".calendar-form")||v.input.classList.contains("isActive")&&(v.modal.classList.add("is-hidden"),v.input.classList.remove("isActive"),v.arrow.classList.remove("switched"),v.calendarBtn.classList.remove("switchedColor"),document.getElementById("input-picker").value="",localStorage.removeItem("VALUE"),localStorage.removeItem("date"))}));var _=["January","February","March","April","May","June","July","August","September","October","November","December"],b=function(t){for(var n=new Date(S,L,1).getDay(),a=new Date(S,L+1,0).getDate(),r=new Date(S,L,a).getDay(),o=new Date(S,L,0).getDate(),c="",i=n;i>0;i--)c+='<li class="inactive">'.concat(o-i+1,"</li>");for(var l=1;l<=a;l++){var u=l===y.getDate()&&L===(new Date).getMonth()&&S===(new Date).getFullYear();c+='<li class="'.concat(u,'">').concat(l,"</li>")}for(var d=r;d<6;d++)c+='<li class="inactive">'.concat(d-r+1,"</li>");w.innerText="".concat(_[L]," ").concat(S),m.innerHTML=c,document.querySelector(".days").addEventListener("click",(function(t){e(s)(t.currentTarget.children).forEach((function(e){e.classList.remove("active")})),t.target.classList.add("active");var n=t.target.textContent;if(!(t.target.textContent.length>10)){var a=(L+1).toString();document.getElementById("input-picker").value=n.padStart(2,"0")+"/"+a.padStart(2,"0")+"/"+S,localStorage.setItem("VALUE",JSON.stringify(n));var r=document.querySelector(".calendar-input").value;localStorage.setItem("date",JSON.stringify(r)),document.querySelector("[data-modal]").classList.add("is-hidden"),document.querySelector(".calendar-input").classList.remove("isActive"),document.querySelector(".calendar__button-arrow").classList.remove("switched"),document.querySelector(".calendar__button-calendar").classList.remove("switchedColor")}}))};b();document.querySelector(".days");function q(){return(q=e(o)(e(c).mark((function t(n){var a,r,o,s;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=encodeURIComponent(n),e.next=4,fetch("https://api.nytimes.com/svc/news/v3/content/all/".concat(a,".json?api-key=").concat(u));case 4:return r=e.sent,e.next=7,r.json();case 7:o=e.sent,s=o.results,console.log(s),(0,l.default)((0,i.categoryNewsMarkup)(s)),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0),(0,i.pageNothingFound)();case 17:case"end":return e.stop()}}),t,null,[[0,13]])})))).apply(this,arguments)}h.forEach((function(e){e.addEventListener("click",(function(){(L="prev"===e.id?L-1:L+1)<0||L>11?(y=new Date(S,L,(new Date).getDate()),S=y.getFullYear(),L=y.getMonth()):y=new Date,b();var t=JSON.parse(localStorage.getItem("VALUE"));m.childNodes.forEach((function(e){e.textContent===t&&e.classList.add("active")}))}))})),localStorage.removeItem("VALUE"),localStorage.removeItem("date");i=r("1KhuP"),l=r("0Vwwd");r("jLBgW");var x=r("779U1");l=r("0Vwwd"),i=r("1KhuP");r("2y3lT");var E=document.getElementById("pagination"),k=document.querySelector("button.next-page"),P=document.querySelector("button.prev-page"),A=(document.querySelector(".list-news"),document.querySelector(".btn-next"),document.querySelector(".btn-prev"),document.querySelector(".pg-item"),{pagination:document.querySelector(".pagin")}),D={curPage:1,numLinksTwoSide:1,totalPages:13,offset:0};function M(){for(var e=D.totalPages,t=D.curPage,n=D.numLinksTwoSide,a=n+4,r="",o="",c='<li class="pg-item"><a class="pg-link">...</a></li>',s=0,i=t-n,l=t+n,u="",d=1;d<=e;d++)u=d===t?"active":"",e>=2*a-1?i>3&&l<e-3+1?d>=i&&d<=l&&(o+=C(d,u)):t<a&&d<=a||t>e-a&&d>=e-a+1||d===e||1===d?r+=C(d,u):1===++s&&(r+=c):r+=C(d,u);o?(o=C(1)+c+o+c+C(e),E.innerHTML=o):E.innerHTML=r}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return' <li class="pg-item '.concat(t,'" data-page="').concat(e,'">\n        <a class="pg-link" href="#">').concat(e,"</a>\n    </li>")}function I(){1===D.curPage?P.disabled=!0:P.disabled=!1}function T(){D.curPage===D.totalPages?k.disabled=!0:k.disabled=!1}M(),E.addEventListener("click",(function(e){if(e.target.dataset.page){var t=parseInt(e.target.dataset.page,10);if(D.curPage=t,M(),I(),T(),"1"==e.target.dataset.page)D.offset=0;else{var n=Number(e.target.dataset.page),a=n-=1;D.offset=a*=9}}})),document.querySelector(".pagination--container").addEventListener("click",(function(e){!function(e){e.classList.contains("prev-page")?(D.curPage--,I(),k.disabled=!1):e.classList.contains("next-page")&&(D.curPage++,T(),P.disabled=!1);M()}(e.target)})),A.pagination.addEventListener("click",(function(e){e.target;(e.target.classList.contains("next-page")||e.target.classList.contains("btn-next"))&&D.curPage!==D.totalPages&&(D.curPage+=1,D.offset+=9),(e.target.classList.contains("prev-page")||e.target.classList.contains("btn-prev"))&&1!==D.curPage&&(D.curPage-=1,D.offset-=9)})),r("7XbyU");i=r("1KhuP");var N="favorite-news";document.querySelector(".news-card__list").addEventListener("click",(function(e){var t=e.target.closest(".news-card__btn-favorite");if(!t)return;var n=function(e){try{var t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}catch(e){console.error(e.message)}}(N)||[],a=t.closest(".news-card__item"),r=a.getAttribute("id"),o=a.querySelector(".news-card__img").getAttribute("src"),c=a.querySelector(".news-card__category").textContent,s=a.querySelector(".news-card__title").textContent,l=a.querySelector(".news-card__description").textContent,u=a.querySelector(".news-card__date").textContent,d=a.querySelector(".news-card__read-more").getAttribute("href"),g=(a.querySelector(".news-card__read-more"),{id:r,urlMedia:o,section:c,title:s,abstract:l,published_date:u,url:d});n.some((function(e){return g.id===e.id}))&&null!=g.id||(n.push(g),O(N,n));if(t.classList.contains("remove-from-fav")){t.innerHTML="<span>Add to favorite</span>".concat(i.heartSvg);var p=n.filter((function(e){return g.url!==e.url}));O(N,p)}t.classList.contains("remove-from-fav")||(t.innerHTML="<span>Remove from favorite</span>".concat(i.activeHeartSvg));t.classList.toggle("remove-from-fav")}));var O=function(e,t){try{var n=JSON.stringify(t);localStorage.setItem(e,n)}catch(e){console.error("Set state error: ",e.message)}};var B=new(0,x.default);function H(){return(H=e(o)(e(c).mark((function t(){var n;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.popularNews();case 3:n=e.sent,(0,l.default)((0,i.popularNewsMarkup)(n)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}document.addEventListener("DOMContentLoaded",function(){return H.apply(this,arguments)}())}();
//# sourceMappingURL=index.697237bb.js.map
