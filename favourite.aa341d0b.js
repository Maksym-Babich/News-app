var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},n=e.parcelRequire7309;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var a={id:e,exports:{}};return t[e]=a,n.call(a.exports,a,a.exports),a.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){r[e]=t},e.parcelRequire7309=n),n.register("2pi9I",(function(e,t){n("bUb57");var r=n("mPsIJ"),a=n("3huUq");const s=document.querySelector("#home"),c=document.querySelector("#favourite"),o=document.querySelector("#read");window.location.pathname.indexOf("/favourite.html")>=0?(s.classList.remove("current"),o.classList.remove("current"),c.classList.add("current")):window.location.pathname.indexOf("/read.html")>=0?(s.classList.remove("current"),c.classList.remove("current"),o.classList.add("current")):(c.classList.remove("current"),o.classList.remove("current"),s.classList.add("current"));const l=document.querySelector(".checkbox"),i=document.querySelector(".mobile-checkbox");function d(){this.checked?(body.classList.add("dark"),localStorage.setItem("dark-theme","dark")):(body.classList.remove("dark"),localStorage.setItem("dark-theme","light"))}l.addEventListener("change",d),i.addEventListener("change",d);document.querySelector("main").classList.add("favorite_padding");const u=document.querySelector(".favorite__list");u.addEventListener("click",(function(e){const t=e.target.closest(".news-card__btn-favorite");if(!t)return;const r=t.closest(".news-card__item"),n=r.querySelector(".news-card__read-more").getAttribute("href");for(let e=0;e<f.length;e+=1)f[e].url===n&&f.splice(e,1);((e,t)=>{try{const r=JSON.stringify(t);localStorage.setItem(e,r)}catch(e){console.error("Set state error: ",e.message)}})(g,f),r.remove(),(null==f||0===f.length)&&(0,a.pageNothingFound)()}));const g="favorite-news",_="read-news",m='<div class=\'already-read\'><div class=\'already-read__text\'><span>Already read</span> <svg width="18" height="18">\n    <path\n        d="M16.189 3.594a.6.6 0 0 0-.413.182L6.6 12.952 2.824 9.176a.6.6 0 1 0-.848.848l4.2 4.2a.6.6 0 0 0 .848 0l9.6-9.6a.6.6 0 0 0-.435-1.03Z"\n         />\n</svg></div></div>',f=(e=>{try{const t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}catch(e){console.error(e.message)}})(g);if(null!=f&&0!==f.length){for(const e of f){const t=v(e);u.insertAdjacentHTML("beforeend",t)}u.addEventListener("click",(function(e){const t=e.target.closest(".news-card__read-more");if(!t)return;let r=(e=>{try{const t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}catch(e){console.error(e.message)}})(_)||[];const n=t.closest(".news-card__item"),a=n.querySelector(".news-card__img").getAttribute("src"),s=n.querySelector(".news-card__category").textContent,c=n.querySelector(".news-card__title").textContent,o=n.querySelector(".news-card__description").textContent,l=n.querySelector(".news-card__date").textContent,i=n.querySelector(".news-card__read-more").getAttribute("href");let d=new Date,u=String(d.getDate()).padStart(2,"0"),g=String(d.getMonth()+1).padStart(2,"0"),f=d.getFullYear();const v={urlMedia:a,section:s,title:c,abstract:o,published_date:l,url:i,dateOfRead:g+"/"+u+"/"+f};r.some((e=>v.url===e.url))||(r.push(v),((e,t)=>{try{const r=JSON.stringify(t);localStorage.setItem(e,r)}catch(e){console.error("Set state error: ",e.message)}})(_,r));n.insertAdjacentHTML("beforeend",m)}))}else(0,a.pageNothingFound)();function v({id:e,urlMedia:t,section:n,title:a,abstract:s,published_date:c,url:o}){return`\n    <li class="news-card__item card__favorite" id=${e}>\n      <article class="news-card__article">\n        <div class="news-card__img-wrapper">\n          <img class="news-card__img" src=${t} alt="news image" />\n          <span class="news-card__category">${n}</span>\n          <div class="news-card__btn-favorite remove-from-fav">\n            <span>Remove from favorite</span>\n           <svg xmlns="http://www.w3.org/2000/svg" width="14" height="12" viewBox="0 0 14 12" fill="none">\n<path d="M3.66536 0C1.8247 0 0.332031 1.47733 0.332031 3.3C0.332031 4.77133 0.915365 8.26333 6.65736 11.7933C6.76022 11.8559 6.8783 11.889 6.9987 11.889C7.1191 11.889 7.23718 11.8559 7.34003 11.7933C13.082 8.26333 13.6654 4.77133 13.6654 3.3C13.6654 1.47733 12.1727 0 10.332 0C8.49136 0 6.9987 2 6.9987 2C6.9987 2 5.50603 0 3.66536 0Z" fill="#4B48DA"/>\n</svg>\n            </div>\n        </div>\n        <div class="news-card__text">\n          <h2 class="news-card__title">${(0,r.textHiding)(a,30)}</h2>\n          <p class="news-card__description">${(0,r.textHiding)(s,65)}</p>\n        </div>\n        <div class="news-card__info">\n          <span class="news-card__date">${c.replaceAll("-","/")}</span>\n          <a class="news-card__read-more" href=${o} target='blank'>Read more</a>\n        </div>\n      </article>\n        ${(e=>{let t=localStorage.getItem("read-news");if(t)return JSON.parse(t).find((t=>t.url===e))})(o)?m:""}\n    </li>\n    `}})),n("2pi9I");
//# sourceMappingURL=favourite.aa341d0b.js.map
